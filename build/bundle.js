!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t((e=e||self)["react-service-worker-update-prompt"]={},e.React,e.PropTypes)}(this,function(e,p,t){"use strict";var d="default"in p?p.default:p;function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function n(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(o,!0).forEach(function(e){var t,r,n;t=i,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):r(o).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t;var m=d.createContext();function i(e){var t=b(p.useState(null),2),r=t[0],n=t[1],i=b(p.useState(!1),2),o=i[0],s=i[1],a=b(p.useState(!1),2),u=a[0],c=a[1],l=p.useMemo(function(){return{assetsUpdateReady:o,assetsCached:u,updateAssets:function(){r&&(r.addEventListener("statechange",function(){"activated"===r.state&&window.location.reload()}),r.postMessage({type:"SKIP_WAITING"}))}}},[u,o,r]);return d.useEffect(function(){e.register({onRegister:function(e){n(e.waiting),s(!!e.waiting)},onUpdate:function(e){n(e.waiting),s(!0)},onSuccess:function(){c(!0)}})},[]),d.createElement(m.Provider,f({value:l},e))}function c(){var e=d.useContext(m);if(!e)throw new Error("useServiceWorker must be used within a ServiceWorkerProvider");return e}i.propTypes={register:t.func.isRequired};var o={display:"flex",border:"none",cursor:"pointer",outline:"inherit",height:"2rem",padding:"0 1rem",borderRadius:"3px"},s={prompt:{display:"flex",position:"absolute",bottom:"3rem",right:"9rem",backgroundColor:"hsl(209, 61%, 16%)",zIndex:1,color:"white",padding:"0 1rem 0 2rem",borderRadius:"3px",alignItems:"center"},hidden:{border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",padding:0,overflow:"hidden",position:"absolute"},loading:{display:"inline",marginLeft:".5rem"},button:n({background:"hsl(209, 34%, 30%)",color:"hsl(212, 33%, 89%)"},o,{textTransform:"uppercase",marginLeft:"2rem",fontWeight:"bold","&:hover":{background:"hsl(209, 28%, 39%)"}}),dismiss:n({},o,{background:"none",marginLeft:"1rem",color:"hsl(212, 33%, 89%)"})};function l(e){return d.createElement("div",{className:e.className,style:e.visible?s.prompt:s.hidden},d.createElement("p",null,e.message),d.createElement("button",{style:s.button,type:"button",onClick:e.onClick},e.buttonText),d.createElement("button",{style:s.dismiss,type:"button",onClick:e.onDismiss},"X"))}function a(e){var t=c(),r=t.updateAssets,n=t.assetsUpdateReady,i=b(p.useState(!1),2),o=(i[0],i[1]),s=b(p.useState(!0),2),a=s[0],u=s[1];return a&&d.createElement(l,f({},e,{onClick:function(){o(!0),r()},onDismiss:function(){return u(!1)},visible:n}))}l.propTypes={className:t.string,message:t.string.isRequired,buttonText:t.string.isRequired,onClick:t.func.isRequired,onDismiss:t.func,visible:t.bool},a.propTypes={className:t.string,message:t.string.isRequired,buttonText:t.string.isRequired},e.ServiceWorkerProvider=i,e.UpdatePrompt=a,e.useServiceWorker=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=bundle.js.map
